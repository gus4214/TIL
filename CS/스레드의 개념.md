# 스레드의 개념

### 스레드(thread)란?

- 프로세스(process) 내에서 실제로 작업을 수행하는 주체를 의미
- 모든 프로세스에는 1개 이상의 스레드가 존재하여 작업을 수행 한다.
- 2개 이상의 스레드를 가지는 프로세스를 멀티스레드 프로세스(multi-threaded process)라고 한다.

### 프로세스(process)란?

- 단순히 실행 중인 프로그램
- 즉, 사용자가 작성한 프로그램이 운영체제에 의해 메모리 공간을 할당받아 실행 중인 것
- 이러한 프로세스는 프로그램에 사용되는 데이터와 메모리 등의 자원 그리고 스레드로 구성된다.

---

![싱글스레드 vs 멀티스레드](/CS/image/thread.png)

- 스레드는 별도의 register와 stack을 가지고, 그 외의 다른 영역은 공유한다. 한 스레드가 프로세스 자원을 변경하면 다른 스레드도 그 변경 결과를 가져올 수 있다.
- 스레드는 프로세스 내의 code, data, files 영역을 다른 스레드와 공유하고 stack 영역은 따로 할당받는다.
- 여러 스레드는 한 프로세스 내의 code, data, files 영역을 공유하지만, 프로세스 간에는 서로 메모리에 접근할 수 없다.

> 스레드가 필요한 이유

여러개의 작업 단위로 구성된 프로그램에서 요청을 동시에 처리하기 위함

ex) 웹 브라우저

이미지, 텍스트를 표시하는 스레드, 네트워크에서 데이터를 가져오는 스레드, 파일을 다운로드 받는 스레드 등등 한 프로세스 내에서 여러개의 작업을 해야하는 경우가 생긴다.

- 스레드의 이점

1. 응답성(Responsiveness) : 다른 스레드의 실행 시간이 길거나 입출력 요청으로 인해 block 되더라도 계속 실행되는 것을 허용한다.
2. 자원공유(Resource sharing) : 프로세스 내 자원(코드, 데이터)를 자동적으로 공유한다.
3. 경제성(Economy) : 만약 각각의 작업을 위해 별도의 프로세스를 생성한다면 프로세스 생성 및 문맥 교환(Context switch)으로 인해 overhead가 발생한다. 이에 비해 멀티 스레딩 방식을 훨씬 경제적이다.
4. 확장성(Scalability) : 멀티 프로세서 시스템에서 병렬성이 증가한다. (하나의 프로세스라 Context Switch될 일이 없기 때문에 CPU가 여러개일 때 병렬적으로 사용될 수 있다.)
